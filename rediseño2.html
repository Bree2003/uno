<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vistas de Plataforma - Concha y Toro</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    
    <style>
        /* --- ESTILOS GLOBALES (Mismos del anterior) --- */
        :root {
            --primary-orange: #FF5B35;
            --primary-orange-light: #FFF0EB; /* Fondo suave naranja */
            --bg-body: #F8FAFC;
            --bg-surface: #FFFFFF;
            --text-main: #1F2937;
            --text-secondary: #6B7280;
            --border-color: #E5E7EB;
            --accent-blue: #3B82F6; /* Para enlaces o info */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background-color: var(--bg-body); color: var(--text-main); padding: 40px; }
        
        /* Contenedor para separar las vistas en este demo */
        .view-container {
            max-width: 1200px;
            margin: 0 auto 80px auto;
            background: var(--bg-surface);
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .view-header {
            background: #fff;
            padding: 20px 30px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .view-title { font-size: 1.25rem; font-weight: 700; color: #111; }
        .view-body { padding: 30px; }

        /* --- COMPONENTES REUTILIZABLES --- */
        .btn {
            background: var(--primary-orange);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: background 0.2s;
        }
        .btn:hover { background-color: #E04824; }
        
        .btn-secondary {
            background: white;
            color: var(--text-main);
            border: 1px solid var(--border-color);
        }
        .btn-secondary:hover { background: #F9FAFB; border-color: #D1D5DB; }

        .tag {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            background: #F3F4F6;
            color: var(--text-secondary);
        }

        /* --- VISTA 1: CATALOGO / VITRINA --- */
        .search-area {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        .search-input-wrapper {
            flex: 1;
            position: relative;
        }
        .search-input-wrapper input {
            width: 100%;
            padding: 12px 12px 12px 45px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.95rem;
            outline: none;
        }
        .search-input-wrapper span {
            position: absolute;
            left: 12px;
            top: 10px;
            color: #9CA3AF;
        }

        .catalog-item {
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            transition: all 0.2s;
        }
        .catalog-item:hover {
            border-color: #FED7AA;
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
        }
        .catalog-info h3 { font-size: 1.1rem; margin-bottom: 8px; color: var(--text-main); }
        .catalog-info p { color: var(--text-secondary); font-size: 0.9rem; max-width: 600px; line-height: 1.5; }
        .catalog-meta { margin-top: 12px; display: flex; gap: 10px; }
        
        /* --- VISTA 2: DETALLE & INGESTA --- */
        .summary-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        .data-table th {
            text-align: left;
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.85rem;
            font-weight: 600;
        }
        .data-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9rem;
        }
        .status-dot { height: 8px; width: 8px; border-radius: 50%; display: inline-block; margin-right: 6px; }
        .green { background: #10B981; }
        .red { background: #EF4444; }

        .ingest-box {
            background: var(--bg-body);
            padding: 20px;
            border-radius: 12px;
            border: 1px dashed #CBD5E1;
        }

        /* --- VISTA 3: WIZARD / VALIDACIÓN --- */
        .wizard-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 40px;
        }
        .w-step {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        .w-step.active { color: var(--primary-orange); font-weight: 600; }
        .w-circle {
            width: 32px; height: 32px;
            border-radius: 50%;
            background: #F3F4F6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        .w-step.active .w-circle { background: var(--primary-orange); color: white; }
        
        .alert-banner {
            background: #FFF7ED; /* Naranja muy suave */
            border-left: 4px solid var(--primary-orange);
            padding: 16px;
            border-radius: 4px;
            margin-bottom: 20px;
            display: flex;
            gap: 12px;
        }
        .alert-content h4 { font-size: 0.95rem; margin-bottom: 4px; color: #9A3412; }
        .alert-content ul { list-style: none; color: #9A3412; font-size: 0.9rem; }
        .alert-content li { margin-bottom: 4px; display: flex; align-items: center; gap: 6px; }

        .preview-header {
            display: flex; 
            gap: 20px; 
            margin-bottom: 15px; 
            background: #F9FAFB; 
            padding: 15px; 
            border-radius: 8px;
        }
        .stat-item { display: flex; flex-direction: column; }
        .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .stat-value { font-weight: 600; font-size: 1.1rem; }

    </style>
</head>
<body>

    <!-- VISTA 1: VITRINA DE PRODUCTOS (CATÁLOGO) -->
    <div class="view-container">
        <div class="view-header">
            <div class="view-title">Vitrina de Productos de Datos</div>
            <button class="btn btn-secondary"><span class="material-symbols-outlined">filter_list</span> Filtros</button>
        </div>
        <div class="view-body">
            
            <div class="search-area">
                <div class="search-input-wrapper">
                    <span class="material-symbols-outlined">search</span>
                    <input type="text" placeholder="Buscar por nombre, descripción o área de negocio...">
                </div>
                <button class="btn">Buscar</button>
            </div>

            <p style="margin-bottom: 20px; font-weight: 600; color: var(--text-secondary);">Resultados (3)</p>

            <!-- Item 1 -->
            <div class="catalog-item">
                <div class="catalog-info">
                    <h3>Programa de Fabricación</h3>
                    <p>Plan o cronograma que organiza y controla la fabricación. Contiene datos maestros de Pirque, Vespucio y Lontue.</p>
                    <div class="catalog-meta">
                        <span class="tag">7 Datasets Asociados</span>
                        <span class="tag">Actualizado: Hoy</span>
                    </div>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-secondary">Solicitar Acceso</button>
                    <button class="btn">Ver Datasets</button>
                </div>
            </div>

            <!-- Item 2 -->
            <div class="catalog-item">
                <div class="catalog-info">
                    <h3>Mermas de Insumos Secos</h3>
                    <p>Información consolidada que mide las mermas de insumos secos en todas las plantas productivas.</p>
                    <div class="catalog-meta">
                        <span class="tag">17 Datasets Asociados</span>
                        <span class="tag">Actualizado: Ayer</span>
                    </div>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-secondary">Solicitar Acceso</button>
                    <button class="btn">Ver Datasets</button>
                </div>
            </div>

            <!-- Item 3: Expandido (Simulado) -->
            <div class="catalog-item" style="background-color: #FAFAFA; border-left: 4px solid var(--primary-orange);">
                <div style="width: 100%;">
                    <div class="catalog-info">
                        <h3>Avisos de Mantenimiento</h3>
                        <p>Avisos de mantención correctiva reportados en SAP.</p>
                    </div>
                    
                    <!-- Sub-tabla interna (Simulando el acordeón abierto) -->
                    <div style="margin-top: 20px; background: white; border: 1px solid var(--border-color); border-radius: 8px; padding: 15px;">
                        <h4 style="font-size: 0.9rem; margin-bottom: 10px;">Datasets Disponibles</h4>
                        <table class="data-table">
                            <tbody>
                                <tr>
                                    <td><strong>Maestro Fert</strong></td>
                                    <td style="color:var(--text-secondary)">Actualiza según línea productiva</td>
                                    <td style="text-align: right;"><a href="#" style="color:var(--primary-orange); text-decoration: none; font-weight: 500;">Ver Detalles &rarr;</a></td>
                                </tr>
                                <tr>
                                    <td><strong>Programa Lontue Semana NN</strong></td>
                                    <td style="color:var(--text-secondary)">Excel semanal de línea productiva</td>
                                    <td style="text-align: right;"><a href="#" style="color:var(--primary-orange); text-decoration: none; font-weight: 500;">Ver Detalles &rarr;</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>


    <!-- VISTA 2: DETALLE DE PROGRAMA & INGESTA RAPIDA -->
    <div class="view-container">
        <div class="view-header">
            <div style="display:flex; align-items:center; gap:10px;">
                <button class="btn-secondary" style="padding: 5px 8px;"><span class="material-symbols-outlined">arrow_back</span></button>
                <div class="view-title">Programa de Fabricación</div>
            </div>
            <span class="tag">Propietario: Operaciones</span>
        </div>
        
        <div class="view-body">
            <div class="summary-grid">
                
                <!-- Columna Izquierda: Historial -->
                <div>
                    <h3 style="margin-bottom: 15px; font-size: 1.1rem;">Resumen de Cargas</h3>
                    <div style="border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Tabla Destino</th>
                                    <th>Archivo</th>
                                    <th>Hora</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Maestro Fert</td>
                                    <td>carga_fert_01.csv</td>
                                    <td>12:35 hrs</td>
                                    <td><span class="status-dot green"></span>OK</td>
                                </tr>
                                <tr>
                                    <td>Maestro Batch</td>
                                    <td>batch_err_v2.csv</td>
                                    <td>12:35 hrs</td>
                                    <td><span class="status-dot red"></span>Error</td>
                                </tr>
                                <tr>
                                    <td>COOIS</td>
                                    <td>coois_final.xlsx</td>
                                    <td>12:40 hrs</td>
                                    <td><span class="status-dot green"></span>OK</td>
                                </tr>
                                <tr>
                                    <td>Maestro OF</td>
                                    <td>m_of_update.csv</td>
                                    <td>12:42 hrs</td>
                                    <td><span class="status-dot green"></span>OK</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div style="margin-top: 15px; text-align: right;">
                        <a href="#" style="color: var(--primary-orange); font-size: 0.9rem; font-weight: 500;">Ver historial completo</a>
                    </div>
                </div>

                <!-- Columna Derecha: Acción de Ingesta -->
                <div>
                    <h3 style="margin-bottom: 15px; font-size: 1.1rem;">Nueva Ingesta</h3>
                    <div class="ingest-box">
                        <label style="display:block; margin-bottom: 8px; font-weight: 500; font-size: 0.9rem;">Dataset Destino</label>
                        <select style="width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 6px; margin-bottom: 15px; background: white;">
                            <option>Seleccionar Dataset...</option>
                            <option>Maestro Fert</option>
                            <option>Maestro Batch</option>
                        </select>

                        <div style="margin-bottom: 15px;">
                            <label style="font-size: 0.9rem; display: flex; align-items: center; gap: 8px;">
                                <input type="radio" name="mode" checked> Existente
                            </label>
                            <label style="font-size: 0.9rem; display: flex; align-items: center; gap: 8px; margin-top: 5px;">
                                <input type="radio" name="mode"> Nuevo (Crear tabla)
                            </label>
                        </div>

                        <button class="btn" style="width: 100%; justify-content: center;">
                            <span class="material-symbols-outlined">upload_file</span> Cargar Archivo
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- VISTA 3: WIZARD / VALIDACIÓN DE DATOS (REDISEÑO MOCKUP 8) -->
    <div class="view-container">
        <div class="view-header">
            <div class="view-title">Asistente de Carga</div>
            <button class="btn-secondary" style="font-size:0.8rem">Cancelar Ingesta</button>
        </div>
        <div class="view-body">
            
            <!-- Pasos -->
            <div class="wizard-steps">
                <div class="w-step">
                    <span class="material-symbols-outlined" style="color:#10B981">check_circle</span>
                    <span>Carga</span>
                </div>
                <div class="w-step active">
                    <div class="w-circle">2</div>
                    <span>Validación y Estructura</span>
                </div>
                <div class="w-step">
                    <div class="w-circle">3</div>
                    <span>Confirmación</span>
                </div>
            </div>

            <!-- Banner de Alerta -->
            <div class="alert-banner">
                <span class="material-symbols-outlined" style="color:#C2410C">warning</span>
                <div class="alert-content">
                    <h4>Se detectaron inconsistencias en los datos</h4>
                    <ul>
                        <li>La columna <strong>"CuartoFiltro"</strong> tiene 20 registros nulos.</li>
                        <li>La columna <strong>"BOT"</strong> tiene 5 registros con formato inválido (texto en campo numérico).</li>
                    </ul>
                </div>
            </div>

            <!-- Resumen Estadístico y Tabla -->
            <div class="preview-header">
                <div class="stat-item">
                    <span class="stat-label">Registros</span>
                    <span class="stat-value">27,658</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Columnas</span>
                    <span class="stat-value">12</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Calidad de Datos</span>
                    <span class="stat-value" style="color: #F59E0B;">98.5%</span>
                </div>
            </div>

            <h4 style="margin-bottom: 10px;">Vista Previa de la Tabla: Maestro Fert</h4>
            <div style="overflow-x: auto; border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 30px;">
                <table class="data-table" style="font-size: 0.85rem;">
                    <thead style="background: #F9FAFB;">
                        <tr>
                            <th>CuartoFiltro</th>
                            <th>Restr</th>
                            <th>Material</th>
                            <th>Descripción</th>
                            <th>BOT</th>
                            <th>CAJ</th>
                            <th>Fecha</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color: #EF4444; background: #FEF2F2;">null</td>
                            <td>null</td>
                            <td>12013516</td>
                            <td>2104 MERLOT MARQUES (8315)</td>
                            <td>0,75</td>
                            <td>0,75</td>
                            <td>19-11-2024</td>
                        </tr>
                        <tr>
                            <td>L5_Lont</td>
                            <td>null</td>
                            <td>10213327</td>
                            <td>CS OCIO P.NOI P13MAD</td>
                            <td>0,75</td>
                            <td>4,5</td>
                            <td>19-11-2024</td>
                        </tr>
                        <tr>
                            <td style="color: #EF4444; background: #FEF2F2;">null</td>
                            <td>null</td>
                            <td>10213071</td>
                            <td>VDM D.MELCHOR C.SA P24</td>
                            <td>0,75</td>
                            <td>4,5</td>
                            <td>19-11-2024</td>
                        </tr>
                        <tr>
                            <td>L5_Lont</td>
                            <td>null</td>
                            <td>10212908</td>
                            <td>BOE FTZ CAB 750 6U</td>
                            <td><span style="color:#EF4444; font-weight:bold;">Error</span></td>
                            <td>4,5</td>
                            <td>19-11-2024</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="display: flex; justify-content: flex-end; gap: 15px;">
                <button class="btn-secondary">Atrás</button>
                <button class="btn">Continuar (Ignorar errores)</button>
            </div>

        </div>
    </div>

</body>
</html>